_CLKMODE = XTAL1 + PLL16X
_CLKFREQ = 80_000_000

VAR
	LONG HUB_SHOULD_ECHO

PUB main

	HUB_SHOULD_ECHO := 1
	PWM_SHOULD_ECHO := @HUB_SHOULD_ECHO
	I2C_SHOULD_ECHO := @HUB_SHOULD_ECHO
   	cognew(@I2C_DRIVER, 0)
   	cognew(@PWM_WATCHER, 0)

DAT
#include "pwm-cog.s"
#include "i2c-cog.s"
